{"ast":null,"code":"import axios from 'axios';\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nexport const getLogin = createAsyncThunk('user/getLogin', async ({\n  username,\n  password\n}) => {\n  return await axios.post(\"http://localhost:3001/login\", {\n    username: username,\n    password: password\n  }).then(response => {\n    if (response.data.message) {\n      console.log(response.data.message);\n      return null;\n    } else {\n      return response.data;\n    }\n  });\n});\nexport const getRegister = createAsyncThunk('user/getRegister', async ({\n  username,\n  firstName,\n  lastName,\n  password,\n  email,\n  created\n}) => {\n  return await axios.post('http://localhost:3001/register', {\n    username: username,\n    password: password,\n    firstName: firstName,\n    lastName: lastName,\n    email: email,\n    created: new Date().toISOString().slice(0, 19).replace('T', ' ')\n  }).then((response, err) => {\n    if (response.data.success === false) {\n      console.log(response.data.message);\n      return null;\n    } else {\n      console.log(response.data.user);\n      return response.data.user;\n    }\n  });\n});\nexport const authSlice = createSlice({\n  name: 'user',\n  initialState: {\n    isLoggedIn: false,\n    user: {\n      id: -1,\n      firstName: '',\n      lastName: '',\n      username: '',\n      password: '',\n      email: '',\n      created: ''\n    }\n  },\n  reducers: {\n    setIsLoggedIn: (state, action) => {\n      state.isLoggedIn = action.payload;\n    },\n    setFirstName: (state, action) => {\n      state.user.firstName = action.payload;\n    },\n    setLastName: (state, action) => {\n      state.user.lastName = action.payload;\n    },\n    setUsername: (state, action) => {\n      state.user.username = action.payload;\n    },\n    setEmail: (state, action) => {\n      state.user.email = action.payload;\n    },\n    setCreated: (state, action) => {\n      state.user.created = action.payload;\n    },\n    setUser: (state, action) => {\n      if (action.payload === null) {\n        state.isLoggedIn = false;\n      } else {\n        state.isLoggedIn = true;\n        state.user = action.payload;\n      }\n    }\n  },\n  extraReducers: {\n    [getLogin.fulfilled]: (state, action) => {\n      if (action.payload) {\n        state.user = action.payload;\n        state.isLoggedIn = true;\n      }\n    },\n    [getRegister.fulfilled]: (state, action) => {\n      if (action.payload) {\n        state.user = action.payload;\n        state.isLoggedIn = true;\n      }\n    }\n  }\n});\nexport const {\n  setIsLoggedIn,\n  setUser,\n  setFirstName,\n  setLastName,\n  setPassword,\n  setUsername,\n  setEmail\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"sources":["/Users/daniel/Desktop/Projects/FilmCritic/client/src/features/authentication/authSlice.js"],"names":["axios","createSlice","createAsyncThunk","getLogin","username","password","post","then","response","data","message","console","log","getRegister","firstName","lastName","email","created","Date","toISOString","slice","replace","err","success","user","authSlice","name","initialState","isLoggedIn","id","reducers","setIsLoggedIn","state","action","payload","setFirstName","setLastName","setUsername","setEmail","setCreated","setUser","extraReducers","fulfilled","setPassword","actions","reducer"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const getLogin = createAsyncThunk('user/getLogin', async ({ username, password}) => {\n    return await axios.post(\"http://localhost:3001/login\", {\n              username: username,\n              password: password,\n          }).then((response) => {\n              if (response.data.message) {\n                  console.log(response.data.message);\n                  return null;\n              } else {\n                  return response.data;\n              }\n          });\n  })\n\nexport const getRegister = createAsyncThunk('user/getRegister', async ({ username, firstName, lastName, password, email, created}) => {\n    return await axios.post('http://localhost:3001/register', {\n        username: username,\n        password: password,\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n        created: new Date().toISOString().slice(0, 19).replace('T', ' ')\n    }).then((response, err) => {\n        if (response.data.success === false) {\n            console.log(response.data.message);\n            return null;\n        } else {\n            console.log(response.data.user);\n            return response.data.user;\n        }\n    });\n})\n\nexport const authSlice = createSlice({\n    name: 'user',\n    initialState: {\n        isLoggedIn: false,\n        user: {\n            id: -1,\n            firstName: '',\n            lastName: '',\n            username: '',\n            password: '',\n            email: '',\n            created: '',\n        }\n\n    },\n    reducers: {\n        setIsLoggedIn: (state, action) => {\n            state.isLoggedIn = action.payload;\n        },\n        setFirstName: (state, action) => {\n            state.user.firstName = action.payload;\n        },\n        setLastName: (state, action) => {\n            state.user.lastName = action.payload;\n        },\n        setUsername: (state, action) => {\n            state.user.username = action.payload;\n        },\n        setEmail: (state, action) => {\n            state.user.email = action.payload;\n        },\n        setCreated: (state, action) => {\n            state.user.created = action.payload;\n        },\n        setUser: (state, action) => {\n            if (action.payload === null) {\n               state.isLoggedIn = false;\n            } else {\n                state.isLoggedIn = true;\n                state.user = action.payload;\n            }\n        }\n    },\n    extraReducers: {\n        [getLogin.fulfilled]: (state, action) => {\n            if (action.payload) {\n                state.user = action.payload;\n                state.isLoggedIn = true;\n            }\n        },\n        [getRegister.fulfilled]: (state, action) => {\n            if (action.payload) {\n                state.user = action.payload;\n                state.isLoggedIn = true;\n            }\n        }\n    }\n});\n\nexport const { setIsLoggedIn, setUser, setFirstName, setLastName, setPassword, setUsername, setEmail } = authSlice.actions;\n\n\n\n\nexport default authSlice.reducer;"]},"metadata":{},"sourceType":"module"}